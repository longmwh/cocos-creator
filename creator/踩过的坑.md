
### 关于调度器

this.scheduleOnce(update, 4.5);  
在这个scheduleOnce调用完成前，再次调用this.scheduleOnce(update,4.5);会报错（CCScheduler#scheduleSelector. Selector already scheduled. Updating interval）  
解决方法：在调用this.scheduleOnce(update, 4.5); 之前，调用 this.unschedule(update);关闭这个定时器


###  Animation  

在cocos creator 2.0.6版本中，在动画播放结束前，在该节点上重新开始一个动画，调用off函数取消之前注册的onStop函数不起作用

    var animation = node.getComponent(cc.Animation);
    animation.off('stop', onStop, this);

off 函数并不能真的停止调用onStop函数。  
避免错误的办法：开始播放动画前，可以通过获取当前动画的状态，如果当前动画在播放，则不要执行onStop函数（onStop中直接return）   

    var animationState = animation.getAnimationState('animate');
    var bIsPlaying = false;
    if (animationState) {
        bIsPlaying = animationState.isPlaying;
    }
    var onStop = function onStop(event) {
    if (!bIsPlaying)
        node.opacity = 0;
    };


